{"version":3,"file":"jsx-D8L93j6T.cjs","names":["jsxTag: K | Component<K>","style","isServer"],"sources":["../src/jsx/jsx.ts"],"sourcesContent":["import { h, effect } from \"../core/index\";\nimport { isFunction, isServer } from \"../util\";\nimport { setAttribute, style as setStyle } from \"../core/index\";\nimport type {\n  DOMNodeAttributes,\n  MaybeChildNode,\n  PotentialProps,\n  PropValueOrAccessor,\n  TagNames,\n} from \"../types/types\";\nimport type { Component, ComponentProps, JSX } from \"./types\";\n\nconst jsx = <K extends TagNames>(\n  jsxTag: K | Component<K>,\n  { children, ref, style, ...rest }: ComponentProps<K>,\n) => {\n  if (typeof jsxTag === \"string\") {\n    const element = h(\n      jsxTag,\n      rest as DOMNodeAttributes<PotentialProps<K>, K>,\n      children as MaybeChildNode,\n    );\n\n    if (isFunction(ref)) ref(element);\n    // else ref = element;\n\n    effect(() => {\n      setStyle(element, style);\n    });\n\n    for (const [key, value] of Object.entries(rest)) {\n      if (key.startsWith(\"on\") && !isServer) {\n        const eventName = key.slice(2)\n          .toLowerCase() as keyof HTMLElementEventMap;\n        element.addEventListener(eventName, value as EventListener);\n        continue;\n      }\n\n      if (isFunction(value)) {\n        effect(() => {\n          setAttribute(element, key, value() as PropValueOrAccessor);\n        });\n        continue;\n      }\n\n      setAttribute(element, key, value as PropValueOrAccessor);\n    }\n\n    return element;\n  }\n\n  return typeof jsxTag === \"function\"\n    ? jsxTag({ children, ref, style, ...rest } as ComponentProps<K>)\n    : null;\n};\n\nconst Fragment = ({ children }: { children: JSX.Element }) => children;\n\nexport { type JSX };\nexport { Fragment, jsx, jsx as createElement, jsx as jsxDEV, jsx as jsxs };\n"],"mappings":";;;;AAYA,MAAM,MAAM,CACVA,QACA,EAAE,UAAU,KAAK,eAAO,GAAG,MAAyB,KACjD;AACH,YAAW,WAAW,UAAU;EAC9B,MAAM,UAAU,eACd,QACA,MACA,SACD;AAED,MAAI,yBAAW,IAAI,CAAE,KAAI,QAAQ;AAGjC,sBAAO,MAAM;AACX,sBAAS,SAASC,QAAM;EACzB,EAAC;AAEF,OAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,QAAQ,KAAK,EAAE;AAC/C,OAAI,IAAI,WAAW,KAAK,KAAKC,wBAAU;IACrC,MAAM,YAAY,IAAI,MAAM,EAAE,CAC3B,aAAa;AAChB,YAAQ,iBAAiB,WAAW,MAAuB;AAC3D;GACD;AAED,OAAI,yBAAW,MAAM,EAAE;AACrB,wBAAO,MAAM;AACX,+BAAa,SAAS,KAAK,OAAO,CAAwB;IAC3D,EAAC;AACF;GACD;AAED,6BAAa,SAAS,KAAK,MAA6B;EACzD;AAED,SAAO;CACR;AAED,eAAc,WAAW,aACrB,OAAO;EAAE;EAAU;EAAK;EAAO,GAAG;CAAM,EAAsB,GAC9D;AACL;AAED,MAAM,WAAW,CAAC,EAAE,UAAqC,KAAK"}